{"ast":null,"code":"import dayjs from 'dayjs';\nimport { onMounted, onUnmounted, ref } from 'vue';\nimport VehicleEcharts from './vehicleEcharts.vue';\nexport default {\n  components: {\n    VehicleEcharts\n  },\n\n  setup() {\n    let dateTimes = ref('');\n    let timer = null;\n    const loading = ref(false);\n\n    const imageUrl = require('/src/views/vehicleData/image/h3c-title.png');\n\n    const getDataTime = () => {\n      dateTimes.value = dayjs(new Date()).format('YYYY-MM-DD HH:mm:ss');\n    };\n\n    onMounted(() => {\n      // loading.value = true\n      // 先执行一次，拿到时间，再每秒变更\n      // 避免初始加载，时间空白一秒\n      getDataTime();\n      console.log('---begin:formateDate and formateTime---', dateTimes); // timer = setInterval(() => {\n\n      getDataTime(); // }, 1000)\n      // setTimeout(() => {\n      //   loading.value = false\n      // }, 3000)\n    });\n    onUnmounted(() => {\n      clearInterval(timer);\n      timer = null;\n      console.log('---end:formateDate and formateTime---');\n    });\n    return {\n      dateTimes,\n      imageUrl,\n      loading\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAmBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,GAAjC,QAA4C,KAA5C;AACA,OAAOC,cAAP,MAA2B,sBAA3B;AAEA,eAAe;EACbC,UAAU,EAAE;IACVD;EADU,CADC;;EAIbE,KAAK,GAAG;IACN,IAAIC,SAAQ,GAAIJ,GAAG,CAAC,EAAD,CAAnB;IACA,IAAIK,KAAI,GAAI,IAAZ;IACA,MAAMC,OAAM,GAAIN,GAAG,CAAC,KAAD,CAAnB;;IAEA,MAAMO,QAAO,GAAIC,OAAO,CAAC,4CAAD,CAAxB;;IAEA,MAAMC,WAAU,GAAI,MAAM;MACxBL,SAAS,CAACM,KAAV,GAAkBb,KAAK,CAAC,IAAIc,IAAJ,EAAD,CAAL,CAAkBC,MAAlB,CAAyB,qBAAzB,CAAlB;IACF,CAFA;;IAIAd,SAAS,CAAC,MAAM;MACd;MACA;MACA;MACAW,WAAW;MACXI,OAAO,CAACC,GAAR,CAAY,yCAAZ,EAAuDV,SAAvD,EALc,CAMd;;MACAK,WAAW,GAPG,CAQd;MACA;MACA;MACA;IACD,CAZQ,CAAT;IAaAV,WAAW,CAAC,MAAM;MAChBgB,aAAa,CAACV,KAAD,CAAb;MACAA,KAAI,GAAI,IAAR;MACAQ,OAAO,CAACC,GAAR,CAAY,uCAAZ;IACD,CAJU,CAAX;IAKA,OAAO;MACLV,SADK;MAELG,QAFK;MAGLD;IAHK,CAAP;EAKF;;AAtCa,CAAf","names":["dayjs","onMounted","onUnmounted","ref","VehicleEcharts","components","setup","dateTimes","timer","loading","imageUrl","require","getDataTime","value","Date","format","console","log","clearInterval"],"sourceRoot":"","sources":["F:\\hub-code\\h3c-screen\\src\\views\\vehicleData\\indexPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"homepageContainer\" v-loading=\"loading\">\r\n    <div class=\"head\">\r\n      <div class=\"title\"><img class=\"imgClass\" :src=\"imageUrl\" alt=\"\" /></div>\r\n      <div class=\"time\">\r\n        <div>{{ dateTimes }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"realmon_left\"></div>\r\n    <div class=\"realmon_right\">\r\n      <div class=\"realmon_screen\"></div>\r\n    </div>\r\n    <div class=\"real_vehicle\">\r\n      <!-- <div class=\"vehicle_echarts\"></div> -->\r\n      <vehicle-echarts></vehicle-echarts>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport dayjs from 'dayjs'\r\nimport { onMounted, onUnmounted, ref } from 'vue'\r\nimport VehicleEcharts from './vehicleEcharts.vue'\r\n\r\nexport default {\r\n  components: {\r\n    VehicleEcharts\r\n  },\r\n  setup() {\r\n    let dateTimes = ref('')\r\n    let timer = null\r\n    const loading = ref(false)\r\n\r\n    const imageUrl = require('/src/views/vehicleData/image/h3c-title.png')\r\n\r\n    const getDataTime = () => {\r\n      dateTimes.value = dayjs(new Date()).format('YYYY-MM-DD HH:mm:ss')\r\n    }\r\n\r\n    onMounted(() => {\r\n      // loading.value = true\r\n      // 先执行一次，拿到时间，再每秒变更\r\n      // 避免初始加载，时间空白一秒\r\n      getDataTime()\r\n      console.log('---begin:formateDate and formateTime---', dateTimes)\r\n      // timer = setInterval(() => {\r\n      getDataTime()\r\n      // }, 1000)\r\n      // setTimeout(() => {\r\n      //   loading.value = false\r\n      // }, 3000)\r\n    })\r\n    onUnmounted(() => {\r\n      clearInterval(timer)\r\n      timer = null\r\n      console.log('---end:formateDate and formateTime---')\r\n    })\r\n    return {\r\n      dateTimes,\r\n      imageUrl,\r\n      loading\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n:deep(.el-loading-spinner .circular) {\r\n  width: 4vw;\r\n  height: 4vw;\r\n}\r\n\r\n.homepageContainer {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-image: url(./image/h3c-bg.png);\r\n  background-size: cover;\r\n  background-repeat: repeat;\r\n  background-position: center center;\r\n  text-align: left;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  .head {\r\n    width: 100%;\r\n    height: 8vh;\r\n    background-image: url(./image/h3c-title-bg.png);\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n    // padding-bottom: 4.5vw;\r\n    position: relative;\r\n    flex-shrink: 0;\r\n\r\n    .title {\r\n      width: 47vw;\r\n      height: 7vh;\r\n      // background-color: burlywood;\r\n      left: 50%;\r\n      top: 60%;\r\n      position: absolute;\r\n      transform: translate(-50%, -50%);\r\n\r\n      .imgClass {\r\n        width: 100%;\r\n        left: 50%;\r\n        top: 50%;\r\n        position: absolute;\r\n        transform: translate(-50%, -50%);\r\n      }\r\n    }\r\n\r\n    .time {\r\n      width: 15vw;\r\n      height: 3.5vh;\r\n      // background-color: burlywood;\r\n      position: absolute;\r\n      top: 84%;\r\n      left: 88%;\r\n      transform: translate(-50%, -50%);\r\n\r\n      font-size: 1.3vw;\r\n      text-align: left;\r\n      line-height: 5vh;\r\n      color: #02daf3;\r\n    }\r\n  }\r\n\r\n  .realmon_left {\r\n    width: 66.5vw;\r\n    height: 43vh;\r\n    // background-color: blanchedalmond;\r\n    background-image: url(./image/h3c-realmon-left.png);\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n    margin-left: 2vw;\r\n  }\r\n\r\n  .realmon_right {\r\n    width: 22.5vw;\r\n    height: 43vh;\r\n    // background-color: blanchedalmond;\r\n    background-image: url(./image/h3c-realmon-right.png);\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n    margin-left: 4.5vw;\r\n    position: relative;\r\n\r\n    .realmon_screen {\r\n      width: 21vw;\r\n      height: 29vh;\r\n      background-color: burlywood;\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50.5%, -43%);\r\n    }\r\n  }\r\n\r\n  .real_vehicle {\r\n    width: 94vw;\r\n    height: 30vh;\r\n    // background-color: blanchedalmond;\r\n    background-image: url(./image/h3c-real-vehicle.png);\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n    margin-left: 2vw;\r\n    padding: 8vh 1vw 0vh 1vw;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}